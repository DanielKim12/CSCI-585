---
products:
    new:
        limit: {{theme_settings.homepage_new_products_count}}
    featured:
        limit: {{theme_settings.homepage_featured_products_count}}
    top_sellers:
        limit: {{theme_settings.homepage_top_products_count}}
carousel: {{theme_settings.homepage_show_carousel}}
blog:
    recent_posts:
        limit: {{theme_settings.homepage_blog_posts_count}}
---
{{#partial "hero"}}
    {{{region name="home_below_menu"}}}
    {{#if carousel}}
        {{> components/psdc-common/carousel arrows=theme_settings.homepage_show_carousel_arrows}}
    {{/if}}
    {{{region name="home_below_carousel"}}}
{{/partial}}

{{#partial "page"}}

    {{#each shipping_messages}}
        {{> components/common/alert-info message}}
    {{/each}}

<div class="main full">
    
    <!--Featured Categories Carousel-->
    <div class="product-section m-b-50 m-t-50">
        <div class="productCarousel slick-not-apply-{{categories.length}}"
            data-slick='{
                "dots": true,
                "infinite": false,
                "arrows": true,
                "mobileFirst": true,
                "slidesToShow": 3,
                "slidesToScroll": 1,
                "responsive": [
                    {
                        "breakpoint": 768,
                        "settings": {
                            "slidesToScroll": 1,
                            "slidesToShow": 3
                        }
                    }
                ]
            }'>
            {{#each categories}}
                <div class="productCarousel-slide categories-carousel-slide">
                    <a href="{{url}}">
                        <article class="card {{#if alternate}}card--alternate{{/if}}" {{#if settings.data_tag_enabled}} data-event-type="{{event}}" data-entity-id="{{id}}" data-position="{{position}}" data-name="{{name}}" data-product-category="{{#each category}}{{#if @last}}{{this}}{{else}}{{this}}, {{/if}}{{/each}}" data-product-brand="{{brand.name}}" data-product-price="{{#if price.with_tax}}{{price.with_tax.value}}{{else}}{{price.without_tax.value}}{{/if}}"  {{/if}}>
                            <div class="card-inner">
                                <a class="categories-card" href="{{url}}" {{#if settings.data_tag_enabled}} data-event-type="product-click" {{/if}}>
                                    <!--<h4 class="card-title categories-card-title" style="z-index: 100;">{{name}}</h4>-->
                                    <div class="card-img-container categories-card-img-container {{#if image}}show-image{{else}}no-img{{/if}}">
                                        <h4 class="card-title categories-card-title" style="z-index: 100;">{{name}}</h4>
                                        {{> components/common/responsive-img
                                            image=image
                                            class="card-image"
                                            fallback_size=theme_settings.productgallery_size
                                            lazyload=lazyload
                                            default_image=theme_settings.default_image_product
                                        }}                
                                    </div>
                                </a>
                            </div>
                        </article>
                    </a>
                </div>
            {{/each}}
        </div>
    </div>
    <!--END Featured Categories Carousel-->
    
    <!--START Categories Carousels-->
    
    <!--{{#each categories}}-->
    <!--  <div class="product-section m-b-40 m-t-40">-->
    <!--    <h4 class="card-title products-card-title" style="z-index: 100;">{{name}}</h4>-->
    <!--    {{#if products.new}}-->
    <!--        {{> components/products/carousel products=products.new columns=theme_settings.homepage_new_products_column_count}}-->
    <!--    {{/if}}-->
    <!--  </div>-->
    <!--{{/each}}-->
    
    {{#if products.new}}
        <div class="product-section m-b-40 m-t-40">
            <h4 class="card-title products-card-title" style="z-index: 100;">Huggies</h4>
            {{> components/products/carousel products=products.new columns=theme_settings.homepage_new_products_column_count}}
        </div>
    {{/if}}
    
    {{#if products.new}}
        <div class="product-section m-b-40 m-t-40">
            <h4 class="card-title products-card-title" style="z-index: 100;">14K Gold-dipped</h4>
            {{> components/products/carousel products=products.new columns=theme_settings.homepage_new_products_column_count}}
        </div>
    {{/if}}
    
    {{#if products.new}}
        <div class="product-section m-b-40 m-t-40">
            <h4 class="card-title products-card-title" style="z-index: 100;">Jewelry</h4>
            {{> components/products/carousel products=products.new columns=theme_settings.homepage_new_products_column_count}}
        </div>
    {{/if}}
    
    
    <!--END Categories Carousels-->
    

    {{{region name="home_below_new_products"}}}
    
    
    {{#if settings.blog_enabled}}
        {{> components/psdc-common/home-blog-section }}
    {{/if}}

    {{#if theme_settings.show_product_reviews_tabs}}
    {{> components/products/reviews reviews=product.reviews product=product urls=urls}}
  {{/if}}

    <div class="banners home-bottom-banner m-b-40" data-banner-location="bottom">
      {{#each (limit banners.bottom_metadata 1)}}
          <div class="banner" data-event-type="promotion" data-entity-id="{{this.id}}" data-name="{{this.banner-name}}" data-position="{{this.location}}" data-name="{{this.banner-name}}">
              <div data-event-type="promotion-click">
                  {{{this.content}}}
              </div>
          </div>
      {{/each}}
    </div>
    {{#if theme_settings.show_instaram}}
        {{> components/psdc-common/instagram }}
    {{/if}}

</div>
{{/partial}}
{{> layout/base}}


<!--Styling for Categories Carousel-->
<style>

.categories-carousel-slide {
    padding-top: 8px !important;
}

.categories-card {
    width: 100%;
}

.categories-card:hover {
    img {
        transition-duration: 1.2s;
        filter: brightness(120%);
    }
}

.categories-card-img-container {
    max-width: 100% !important;
}

.categories-card img {
    filter: brightness(80%);
    object-fit: cover;
    object-position: center;
    height: 100%;
}

/*.categories-card img:hover {*/
/*    transition-duration: 1.2s;*/
/*    filter: brightness(120%);*/
/*}*/

.categories-card-title {
    position: absolute;
    width: 100%;
    text-align: center;
    top: 50%;
    transform: translateY(-50%);
    left: 0;
    color: white;
    font-size: 36px;
}

.categories-card-title:hover {
    color: white !important;
}

.card-image {
    margin: 0;
}

.products-card-title {
    text-align: center;
    color: black;
    font-size: 36px;
}

</style>
